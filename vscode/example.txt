2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] ENTRYPOINT DEBUG ACTIVE: src/shtest_compiler/shtest.py loaded
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Loaded patterns: ['step', 'action_result', 'action_only', 'result_only', 'comment']
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Pattern for step: ^(?:Étape|Etape|Step)\s*:\s*(.*)$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Pattern for action_result: ^Action\s*:\s*(.*?)(?:\s*;\s*(?:R[ée]sultat|Resultat)\s*:\s*(.*)|\s*R[ée]sultat\s*:\s*(.*))$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Pattern for action_only: ^Action\s*:\s*(.*)$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Pattern for result_only: ^R[ée]sultat\s*:\s*(.*)$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Pattern for comment: ^\s*#.*$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Added STEP tokenizer with pattern: ^(?:Étape|Etape|Step)\s*:\s*(.*)$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Added ACTION_RESULT tokenizer with pattern: ^Action\s*:\s*(.*?)(?:\s*;\s*(?:R[ée]sultat|Resultat)\s*:\s*(.*)|\s*R[ée]sultat\s*:\s*(.*))$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Added ACTION_ONLY tokenizer with pattern: ^Action\s*:\s*(.*)$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Added RESULT_ONLY tokenizer with pattern: ^R[ée]sultat\s*:\s*(.*)$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Added COMMENT tokenizer with pattern: ^\s*#.*$
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Added FallbackTokenizer
2025-07-14T17:02:44.723732Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Parsing text with 28 lines
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Lexing text with 28 lines
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# Example KnightBatch Test Scenario at line 1
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# Example KnightBatch Test Scenario at line 1
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# Example KnightBatch Test Scenario at line 1
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# Example KnightBatch Test Scenario at line 1
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.COMMENT, value=# Example KnightBatch Test Scenario, result=None, original=# Example KnightBatch Test Scenario at line 1
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: COMMENT@1:0 '# Example KnightBatch Test Scenario'
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# This file demonstrates the new modular architecture features at line 1
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# This file demonstrates the new modular architecture features at line 1
2025-07-14T17:02:44.724733Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# This file demonstrates the new modular architecture features at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=# This file demonstrates the new modular architecture features at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.COMMENT, value=# This file demonstrates the new modular architecture features, result=None, original=# This file demonstrates the new modular architecture features at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: COMMENT@1:0 '# This file demonstrates the new modular architecture features'
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding EMPTY token at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: EMPTY@1:0 ''
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.STEP, value=Setup - Database Connection, result=('Setup - Database Connection',), original=Etape: Setup - Database Connection at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: STEP@1:0 'Setup - Database Connection' -> '('Setup - Database Connection',)'
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Définir la variable SQL_DRIVER = mysql ; Résultat: identifiants configurés. at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Définir la variable SQL_DRIVER = mysql, result=('Définir la variable SQL_DRIVER = mysql', 'identifiants configurés.', None), original=Action: Définir la variable SQL_DRIVER = mysql ; Résultat: identifiants configurés. at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Définir la variable SQL_DRIVER = mysql' -> '('Définir la variable SQL_DRIVER = mysql', 'identifiants configurés.', None)'
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Définir la variable SQL_CONN = user/password@testdb ; Résultat: identifiants configurés. at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Définir la variable SQL_CONN = user/password@testdb, result=('Définir la variable SQL_CONN = user/password@testdb', 'identifiants configurés.', None), original=Action: Définir la variable SQL_CONN = user/password@testdb ; Résultat: identifiants configurés. at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Définir la variable SQL_CONN = user/password@testdb' -> '('Définir la variable SQL_CONN = user/password@testdb', 'identifiants configurés.', None)'
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding EMPTY token at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: EMPTY@1:0 ''
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.STEP, value=Setup - File System, result=('Setup - File System',), original=Etape: Setup - File System at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: STEP@1:0 'Setup - File System' -> '('Setup - File System',)'
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Créer le dossier /tmp/knightbatch_test avec les droits 0755 ; Résultat: le dossier est créé. at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Créer le dossier /tmp/knightbatch_test avec les droits 0755, result=('Créer le dossier /tmp/knightbatch_test avec les droits 0755', 'le dossier est créé.', None), original=Action: Créer le dossier /tmp/knightbatch_test avec les droits 0755 ; Résultat: le dossier est créé. at line 1
2025-07-14T17:02:44.725243Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Créer le dossier /tmp/knightbatch_test avec les droits 0755' -> '('Créer le dossier /tmp/knightbatch_test avec les droits 0755', 'le dossier est créé.', None)'
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Créer le fichier /tmp/knightbatch_test/input.txt avec les droits 0644 ; Résultat: le fichier est présent. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Créer le fichier /tmp/knightbatch_test/input.txt avec les droits 0644, result=('Créer le fichier /tmp/knightbatch_test/input.txt avec les droits 0644', 'le fichier est présent.', None), original=Action: Créer le fichier /tmp/knightbatch_test/input.txt avec les droits 0644 ; Résultat: le fichier est présent. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Créer le fichier /tmp/knightbatch_test/input.txt avec les droits 0644' -> '('Créer le fichier /tmp/knightbatch_test/input.txt avec les droits 0644', 'le fichier est présent.', None)'
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Toucher le fichier /tmp/knightbatch_test/old.txt -t 202201010000 ; Résultat: date modifiée. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Toucher le fichier /tmp/knightbatch_test/old.txt -t 202201010000, result=('Toucher le fichier /tmp/knightbatch_test/old.txt -t 202201010000', 'date modifiée.', None), original=Action: Toucher le fichier /tmp/knightbatch_test/old.txt -t 202201010000 ; Résultat: date modifiée. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Toucher le fichier /tmp/knightbatch_test/old.txt -t 202201010000' -> '('Toucher le fichier /tmp/knightbatch_test/old.txt -t 202201010000', 'date modifiée.', None)'
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding EMPTY token at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: EMPTY@1:0 ''
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.STEP, value=Database Operations, result=('Database Operations',), original=Etape: Database Operations at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: STEP@1:0 'Database Operations' -> '('Database Operations',)'
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Exécuter le script SQL init_database.sql ; Résultat: La base est prête. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Exécuter le script SQL init_database.sql, result=('Exécuter le script SQL init_database.sql', 'La base est prête.', None), original=Action: Exécuter le script SQL init_database.sql ; Résultat: La base est prête. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Exécuter le script SQL init_database.sql' -> '('Exécuter le script SQL init_database.sql', 'La base est prête.', None)'
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Exécuter le script SQL load_data.sql ; Résultat: La base est prête pour le test. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Exécuter le script SQL load_data.sql, result=('Exécuter le script SQL load_data.sql', 'La base est prête pour le test.', None), original=Action: Exécuter le script SQL load_data.sql ; Résultat: La base est prête pour le test. at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Exécuter le script SQL load_data.sql' -> '('Exécuter le script SQL load_data.sql', 'La base est prête pour le test.', None)'
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding EMPTY token at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: EMPTY@1:0 ''
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.STEP, value=Process Execution, result=('Process Execution',), original=Etape: Process Execution at line 1
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: STEP@1:0 'Process Execution' -> '('Process Execution',)'
2025-07-14T17:02:44.726244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Exécuter /opt/batch/process_data.sh ; Résultat: retour 0 et (stdout contient "Succès complet" ou stderr contient WARNING). at line 1
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Exécuter /opt/batch/process_data.sh, result=('Exécuter /opt/batch/process_data.sh', 'retour 0 et (stdout contient "Succès complet" ou stderr contient WARNING).', None), original=Action: Exécuter /opt/batch/process_data.sh ; Résultat: retour 0 et (stdout contient "Succès complet" ou stderr contient WARNING). at line 1
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Exécuter /opt/batch/process_data.sh' -> '('Exécuter /opt/batch/process_data.sh', 'retour 0 et (stdout contient "Succès complet" ou stderr contient WARNING).', None)'
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Exécuter /opt/batch/validate.sh avec l'argument mode=test ; Résultat: retour 0. at line 1
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Exécuter /opt/batch/validate.sh avec l'argument mode=test, result=("Exécuter /opt/batch/validate.sh avec l'argument mode=test", 'retour 0.', None), original=Action: Exécuter /opt/batch/validate.sh avec l'argument mode=test ; Résultat: retour 0. at line 1
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Exécuter /opt/batch/validate.sh avec l'argument mode=test' -> '("Exécuter /opt/batch/validate.sh avec l'argument mode=test", 'retour 0.', None)'
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding EMPTY token at line 1
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: EMPTY@1:0 ''
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.STEP, value=Validation, result=('Validation',), original=Etape: Validation at line 1
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: STEP@1:0 'Validation' -> '('Validation',)'
2025-07-14T17:02:44.727244Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Vérifier que le fichier /tmp/knightbatch_test/output.txt existe ; Résultat: le fichier existe. at line 1
2025-07-14T17:02:44.727876Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Vérifier que le fichier /tmp/knightbatch_test/output.txt existe, result=('Vérifier que le fichier /tmp/knightbatch_test/output.txt existe', 'le fichier existe.', None), original=Action: Vérifier que le fichier /tmp/knightbatch_test/output.txt existe ; Résultat: le fichier existe. at line 1
2025-07-14T17:02:44.727876Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Vérifier que le fichier /tmp/knightbatch_test/output.txt existe' -> '('Vérifier que le fichier /tmp/knightbatch_test/output.txt existe', 'le fichier existe.', None)'
2025-07-14T17:02:44.727876Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Comparer le fichier /tmp/knightbatch_test/output.txt avec /tmp/knightbatch_test/expected.txt ; Résultat: fichiers identiques. at line 1
2025-07-14T17:02:44.727876Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Comparer le fichier /tmp/knightbatch_test/output.txt avec /tmp/knightbatch_test/expected.txt, result=('Comparer le fichier /tmp/knightbatch_test/output.txt avec /tmp/knightbatch_test/expected.txt', 'fichiers identiques.', None), original=Action: Comparer le fichier /tmp/knightbatch_test/output.txt avec /tmp/knightbatch_test/expected.txt ; Résultat: fichiers identiques. at line 1
2025-07-14T17:02:44.727876Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Comparer le fichier /tmp/knightbatch_test/output.txt avec /tmp/knightbatch_test/expected.txt' -> '('Comparer le fichier /tmp/knightbatch_test/output.txt avec /tmp/knightbatch_test/expected.txt', 'fichiers identiques.', None)'
2025-07-14T17:02:44.727876Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Vérifier que le fichier /tmp/knightbatch_test/output.txt contient "SUCCESS" ; Résultat: contenu correct. at line 1
2025-07-14T17:02:44.727876Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Vérifier que le fichier /tmp/knightbatch_test/output.txt contient "SUCCESS", result=('Vérifier que le fichier /tmp/knightbatch_test/output.txt contient "SUCCESS"', 'contenu correct.', None), original=Action: Vérifier que le fichier /tmp/knightbatch_test/output.txt contient "SUCCESS" ; Résultat: contenu correct. at line 1
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Vérifier que le fichier /tmp/knightbatch_test/output.txt contient "SUCCESS"' -> '('Vérifier que le fichier /tmp/knightbatch_test/output.txt contient "SUCCESS"', 'contenu correct.', None)'
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding EMPTY token at line 1
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: EMPTY@1:0 ''
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.STEP, value=Cleanup, result=('Cleanup',), original=Etape: Cleanup at line 1
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: STEP@1:0 'Cleanup' -> '('Cleanup',)'
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Vider le répertoire /tmp/knightbatch_test/temp ; Résultat: le dossier est prêt. at line 1
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Vider le répertoire /tmp/knightbatch_test/temp, result=('Vider le répertoire /tmp/knightbatch_test/temp', 'le dossier est prêt.', None), original=Action: Vider le répertoire /tmp/knightbatch_test/temp ; Résultat: le dossier est prêt. at line 1
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Vider le répertoire /tmp/knightbatch_test/temp' -> '('Vider le répertoire /tmp/knightbatch_test/temp', 'le dossier est prêt.', None)'
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding TEXT token value=Action: Vérifier qu'aucune erreur n'apparaît ; Résultat: aucun message d'erreur. at line 1
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] RegexTokenizer.tokenize: Yielding token type=TokenType.ACTION_RESULT, value=Vérifier qu'aucune erreur n'apparaît, result=("Vérifier qu'aucune erreur n'apparaît", "aucun message d'erreur.", None), original=Action: Vérifier qu'aucune erreur n'apparaît ; Résultat: aucun message d'erreur.  at line 1
2025-07-14T17:02:44.728390Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Yielding token: ACTION_RESULT@1:0 'Vérifier qu'aucune erreur n'apparaît' -> '("Vérifier qu'aucune erreur n'apparaît", "aucun message d'erreur.", None)'
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Got 28 tokens
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: _merge_action_result called with 28 tokens
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 0: kind=COMMENT, value='# Example KnightBatch Test Scenario'
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 1: kind=COMMENT, value='# This file demonstrates the new modular architecture features'
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 2: kind=EMPTY, value=''
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 3: kind=STEP, value='Setup - Database Connection'
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 4: kind=ACTION_RESULT, value='Définir la variable SQL_DRIVER = mysql'
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 5: kind=ACTION_RESULT, value='Définir la variable SQL_CONN = user/password@testdb'
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 6: kind=EMPTY, value=''
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 7: kind=STEP, value='Setup - File System'
2025-07-14T17:02:44.728916Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 8: kind=ACTION_RESULT, value='Créer le dossier /tmp/knightbatch_test avec les droits 0755'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 9: kind=ACTION_RESULT, value='Créer le fichier /tmp/knightbatch_test/input.txt avec les droits 0644'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 10: kind=ACTION_RESULT, value='Toucher le fichier /tmp/knightbatch_test/old.txt -t 202201010000'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 11: kind=EMPTY, value=''
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 12: kind=STEP, value='Database Operations'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 13: kind=ACTION_RESULT, value='Exécuter le script SQL init_database.sql'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 14: kind=ACTION_RESULT, value='Exécuter le script SQL load_data.sql'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 15: kind=EMPTY, value=''
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 16: kind=STEP, value='Process Execution'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 17: kind=ACTION_RESULT, value='Exécuter /opt/batch/process_data.sh'
2025-07-14T17:02:44.729438Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 18: kind=ACTION_RESULT, value='Exécuter /opt/batch/validate.sh avec l'argument mode=test'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 19: kind=EMPTY, value=''
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 20: kind=STEP, value='Validation'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 21: kind=ACTION_RESULT, value='Vérifier que le fichier /tmp/knightbatch_test/output.txt existe'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 22: kind=ACTION_RESULT, value='Comparer le fichier /tmp/knightbatch_test/output.txt avec /tmp/knightbatch_test/expected.txt'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 23: kind=ACTION_RESULT, value='Vérifier que le fichier /tmp/knightbatch_test/output.txt contient "SUCCESS"'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 24: kind=EMPTY, value=''
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 25: kind=STEP, value='Cleanup'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 26: kind=ACTION_RESULT, value='Vider le répertoire /tmp/knightbatch_test/temp'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: Token 27: kind=ACTION_RESULT, value='Vérifier qu'aucune erreur n'apparaît'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Grammar: _merge_action_result returning 28 tokens
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command called with: 'Définir la variable SQL_DRIVER = mysql'
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Loaded 21 action patterns
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Processing action 'Définir la variable SQL_DRIVER = mysql' (normalized: 'définir la variable sql_driver = mysql')
2025-07-14T17:02:44.729957Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Créer le dossier {path}' with handler 'create_dir'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Créer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'créer un dossier {path}'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^créer\ un\ dossier\ (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'faire un dossier {path}'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^faire\ un\ dossier\ (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'nouveau dossier {path}'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^nouveau\ dossier\ (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'cr[ée]er le dossier (.+)'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^mkdir (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^mkdir (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Supprimer le dossier {path}' with handler 'delete_dir'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Supprimer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'effacer le dossier {path}'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^effacer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'enlever le dossier {path}'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^enlever\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.730482Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'retirer le dossier {path}'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^retirer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^rm -rf (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^rm -rf (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Copier le dossier {src} vers {dest}' with handler 'copy_dir'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Copier\ le\ dossier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'dupliquer le dossier {src} vers {dest}'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^dupliquer\ le\ dossier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'copier le dossier {src} à {dest}'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^copier\ le\ dossier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^cp -r (.+) (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^cp -r (.+) (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Déplacer le dossier {src} vers {dest}' with handler 'move_dir'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Déplacer\ le\ dossier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'déplacer le dossier {src} à {dest}'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^déplacer\ le\ dossier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.731008Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Purger le répertoire {path}' with handler 'purge_dir'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Purger\ le\ répertoire\ (.+)$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'vider le répertoire {path}'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^vider\ le\ répertoire\ (.+)$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'nettoyer le répertoire {path}'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^nettoyer\ le\ répertoire\ (.+)$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^rm -rf (.+)/\\*$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^rm -rf (.+)/\\*$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Créer le fichier {path}' with handler 'create_file'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Créer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'créer un fichier {path}'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^créer\ un\ fichier\ (.+)$'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'faire un fichier {path}'
2025-07-14T17:02:44.731532Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^faire\ un\ fichier\ (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'générer le fichier {path}'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^générer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'nouveau fichier {path}'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^nouveau\ fichier\ (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'cr[ée]er le fichier (.+)'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^touch (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^touch (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Supprimer le fichier {path}' with handler 'delete_file'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Supprimer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'effacer le fichier {path}'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^effacer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'enlever le fichier {path}'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^enlever\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'retirer le fichier {path}'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^retirer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.732057Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^rm (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^rm (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Copier le fichier {src} vers {dest}' with handler 'copy_file'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Copier\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'dupliquer le fichier {src} vers {dest}'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^dupliquer\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'copier le fichier {src} à {dest}'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^copier\ le\ fichier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^cp (.+) (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^cp (.+) (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'copier le fichier {src} vers {dest}'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^copier\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Déplacer le fichier {src} vers {dest}' with handler 'move_file'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Déplacer\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'déplacer le fichier {src} à {dest}'
2025-07-14T17:02:44.732580Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^déplacer\ le\ fichier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'déplacer le fichier {src} vers {dest}'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^déplacer\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Afficher le contenu du fichier {path}' with handler 'cat_file'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Afficher\ le\ contenu\ du\ fichier\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'afficher le contenu du fichier = {path}'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^afficher\ le\ contenu\ du\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'cat le fichier = {path}'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^cat\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lire le fichier = {path}'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lire\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'voir le contenu du fichier = {path}'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^voir\ le\ contenu\ du\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'consulter le fichier = {path}'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^consulter\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.733103Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'ouvrir le fichier = {path}'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^ouvrir\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^cat (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^cat (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^afficher le contenu du fichier = (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^afficher le contenu du fichier = (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^lire le fichier = (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^lire le fichier = (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'voir le contenu du fichier {path}'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^voir\ le\ contenu\ du\ fichier\ (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lire le fichier {path}'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lire\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'consulter le fichier {path}'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^consulter\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'ouvrir le fichier {path}'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^ouvrir\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.733629Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exécuter le script {script}' with handler 'run_script'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exécuter\ le\ script\ (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter {script}'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer {script}'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'traiter {script}'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^traiter\ (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter traitement.sh'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer traitement.sh'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'traiter traitement.sh'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^sh (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^sh (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer le script {script}'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ le\ script\ (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'faire tourner le script {script}'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^faire\ tourner\ le\ script\ (.+)$'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'démarrer le script {script}'
2025-07-14T17:02:44.734149Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^démarrer\ le\ script\ (.+)$'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exécuter le script SQL {script}' with handler 'run_sql_script'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exécuter\ le\ script\ SQL\ (.+)$'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter le script SQL {script}'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ le\ script\ SQL\ (.+)$'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter le script sql {script}'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ le\ script\ sql\ (.+)$'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer le script sql {script}'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ le\ script\ sql\ (.+)$'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^sqlplus (.+)$'
2025-07-14T17:02:44.734667Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^sqlplus (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exécuter la requête SQL {query}' with handler 'sql_query'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exécuter\ la\ requête\ SQL\ (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter la requête SQL {query}'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ la\ requête\ SQL\ (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter la requête {query}'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ la\ requête\ (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer la requête SQL {query}'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ la\ requête\ SQL\ (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer la requête {query}'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ la\ requête\ (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter la requête {query}'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ la\ requête\ (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exporter les résultats de la requête {query} vers {output}' with handler 'sql_export'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exporter\ les\ résultats\ de\ la\ requête\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.735257Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter les résultats de la requête {query} vers {output}'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ les\ résultats\ de\ la\ requête\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter les résultats {query} vers {output}'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ les\ résultats\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter {query} vers {output}'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter les résultats de la requête {query} vers {output}'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ les\ résultats\ de\ la\ requête\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Comparer les résultats de la requête {query1} avec {query2}' with handler 'sql_compare'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Comparer\ les\ résultats\ de\ la\ requête\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer les résultats de la requête {query1} avec {query2}'
2025-07-14T17:02:44.735784Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ les\ résultats\ de\ la\ requête\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer les résultats {query1} avec {query2}'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ les\ résultats\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer {query1} avec {query2}'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer les résultats de la requête {query1} avec {query2}'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ les\ résultats\ de\ la\ requête\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Comparer le fichier {file1} avec {file2}' with handler 'compare_files'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Comparer\ le\ fichier\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer le fichier {file1} avec {file2}'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ le\ fichier\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer le fichier {file1} et {file2}'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ le\ fichier\ (.+)\ et\ (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^diff (.+) (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^diff (.+) (.+)$'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Définir la variable {var} = {value}' with handler 'export_var'
2025-07-14T17:02:44.736313Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Définir\ la\ variable\ (.+)\ =\ (.+)$'
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Found match with pattern 'Définir la variable {var} = {value}'
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: canonize_action matched handler 'export_var' for phrase 'Définir la variable {var} = {value}'
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: context={'action': 'Définir la variable SQL_DRIVER = mysql', 'handler': 'export_var', 'category': 'variables', 'variables': {'var': 'SQL_DRIVER', 'value': 'mysql'}, 'requirements': {'required_variables': ['var', 'value'], 'optional_variables': [], 'scope': 'global', 'description': 'Export a variable', 'category': 'variables', 'validation_rules': {'var': {'type': 'var', 'required': True, 'pattern': '^[a-zA-Z_][a-zA-Z0-9_]*$'}, 'value': {'type': 'value', 'required': True}}}, 'patterns_matched': [{'type': 'phrase', 'pattern': 'Définir la variable {var} = {value}', 'config': {'type': 'action', 'phrase': 'Définir la variable {var} = {value}', 'aliases': ['définir la variable SQL_CONN = {value}', "définir la variable d'environnement {var} = {value}", 'exporter la variable {var} = {value}', '^export (.+)=(.+)$', 'définir la variable {var} = {value}'], 'handler': 'export_var'}}], 'scope': 'global'}
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: handler=export_var, variables={'var': 'SQL_DRIVER', 'value': 'mysql'}
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Trying action handler: shtest_compiler.core.action_handlers.export_var
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Calling action handler with params={'context': {'action': 'Définir la variable SQL_DRIVER = mysql', 'handler': 'export_var', 'category': 'variables', 'variables': {'var': 'SQL_DRIVER', 'value': 'mysql'}, 'requirements': {'required_variables': ['var', 'value'], 'optional_variables': [], 'scope': 'global', 'description': 'Export a variable', 'category': 'variables', 'validation_rules': {'var': {'type': 'var', 'required': True, 'pattern': '^[a-zA-Z_][a-zA-Z0-9_]*$'}, 'value': {'type': 'value', 'required': True}}}, 'patterns_matched': [{'type': 'phrase', 'pattern': 'Définir la variable {var} = {value}', 'config': {'type': 'action', 'phrase': 'Définir la variable {var} = {value}', 'aliases': ['définir la variable SQL_CONN = {value}', "définir la variable d'environnement {var} = {value}", 'exporter la variable {var} = {value}', '^export (.+)=(.+)$', 'définir la variable {var} = {value}'], 'handler': 'export_var'}}], 'scope': 'global'}, 'var': 'SQL_DRIVER', 'value': 'mysql'}
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Action handler returned=<shtest_compiler.core.action_handlers.export_var.ExportVarAction object at 0x000002014489A810>
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Generated shell command: export SQL_DRIVER='mysql'
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_validation_expression called with: 'identifiants configurés'
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_validation_expression: Detected atomic expression, using compile_atomic
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic called with: expected='identifiants configurés', varname='result', last_file_var=None, extracted_args=None, action_context={'command': 'Définir la variable SQL_DRIVER = mysql'}
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic: Trying to canonize validation: 'identifiants configurés'
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic: canonize_validation('identifiants configurés') result: {'phrase': 'Identifiants configurés', 'handler': 'credentials_configured', 'scope': 'global', 'pattern_entry': {'phrase': 'Identifiants configurés', 'handler': 'credentials_configured', 'scope': 'global', 'opposite': {'phrase': 'Identifiants non configurés'}, 'aliases': ['identifiants configurés', 'Les identifiants sont configurés', '^identifiants configurés$', '^les identifiants sont configurés$']}, 'params': {}}
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] extract_context_from_action result: {'action': 'identifiants configurés', 'handler': 'credentials_configured', 'category': 'validation', 'variables': {}, 'requirements': {'required_variables': [], 'optional_variables': [], 'scope': 'global', 'description': 'Check if credentials are configured', 'category': 'validation', 'validation_rules': {}}, 'patterns_matched': [], 'scope': 'global'}
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Final params for handler: {}
2025-07-14T17:02:44.736881Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Handler registry returned: ValidationCheck(expected='la variable SQL_CONN est configurée', actual_cmd='test -n "${SQL_CONN}"', handler='credentials_configured', scope='last_action', params={'var': 'SQL_CONN', 'opposite': "la variable SQL_CONN n'est pas configurée"})
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command called with: 'Définir la variable SQL_CONN = user/password@testdb'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Loaded 21 action patterns
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Processing action 'Définir la variable SQL_CONN = user/password@testdb' (normalized: 'définir la variable sql_conn = user/password@testdb')
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Créer le dossier {path}' with handler 'create_dir'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Créer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'créer un dossier {path}'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^créer\ un\ dossier\ (.+)$'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'faire un dossier {path}'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^faire\ un\ dossier\ (.+)$'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'nouveau dossier {path}'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^nouveau\ dossier\ (.+)$'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'cr[ée]er le dossier (.+)'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^mkdir (.+)$'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^mkdir (.+)$'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Supprimer le dossier {path}' with handler 'delete_dir'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Supprimer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.737412Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'effacer le dossier {path}'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^effacer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'enlever le dossier {path}'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^enlever\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'retirer le dossier {path}'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^retirer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^rm -rf (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^rm -rf (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Copier le dossier {src} vers {dest}' with handler 'copy_dir'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Copier\ le\ dossier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'dupliquer le dossier {src} vers {dest}'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^dupliquer\ le\ dossier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'copier le dossier {src} à {dest}'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^copier\ le\ dossier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^cp -r (.+) (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^cp -r (.+) (.+)$'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Déplacer le dossier {src} vers {dest}' with handler 'move_dir'
2025-07-14T17:02:44.737940Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Déplacer\ le\ dossier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'déplacer le dossier {src} à {dest}'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^déplacer\ le\ dossier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Purger le répertoire {path}' with handler 'purge_dir'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Purger\ le\ répertoire\ (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'vider le répertoire {path}'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^vider\ le\ répertoire\ (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'nettoyer le répertoire {path}'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^nettoyer\ le\ répertoire\ (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^rm -rf (.+)/\\*$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^rm -rf (.+)/\\*$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Créer le fichier {path}' with handler 'create_file'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Créer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'créer un fichier {path}'
2025-07-14T17:02:44.738452Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^créer\ un\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'faire un fichier {path}'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^faire\ un\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'générer le fichier {path}'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^générer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'nouveau fichier {path}'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^nouveau\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'cr[ée]er le fichier (.+)'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^touch (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^touch (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Supprimer le fichier {path}' with handler 'delete_file'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Supprimer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'effacer le fichier {path}'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^effacer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'enlever le fichier {path}'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^enlever\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'retirer le fichier {path}'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^retirer\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.738982Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^rm (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^rm (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Copier le fichier {src} vers {dest}' with handler 'copy_file'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Copier\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'dupliquer le fichier {src} vers {dest}'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^dupliquer\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'copier le fichier {src} à {dest}'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^copier\ le\ fichier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^cp (.+) (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^cp (.+) (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'copier le fichier {src} vers {dest}'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^copier\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Déplacer le fichier {src} vers {dest}' with handler 'move_file'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Déplacer\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'déplacer le fichier {src} à {dest}'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^déplacer\ le\ fichier\ (.+)\ à\ (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.739508Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^mv (.+) (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'déplacer le fichier {src} vers {dest}'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^déplacer\ le\ fichier\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Afficher le contenu du fichier {path}' with handler 'cat_file'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Afficher\ le\ contenu\ du\ fichier\ (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'afficher le contenu du fichier = {path}'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^afficher\ le\ contenu\ du\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'cat le fichier = {path}'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^cat\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lire le fichier = {path}'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lire\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'voir le contenu du fichier = {path}'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^voir\ le\ contenu\ du\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'consulter le fichier = {path}'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^consulter\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'ouvrir le fichier = {path}'
2025-07-14T17:02:44.740033Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^ouvrir\ le\ fichier\ =\ (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^cat (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^cat (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^afficher le contenu du fichier = (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^afficher le contenu du fichier = (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^lire le fichier = (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^lire le fichier = (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'voir le contenu du fichier {path}'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^voir\ le\ contenu\ du\ fichier\ (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lire le fichier {path}'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lire\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'consulter le fichier {path}'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^consulter\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'ouvrir le fichier {path}'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^ouvrir\ le\ fichier\ (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exécuter le script {script}' with handler 'run_script'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exécuter\ le\ script\ (.+)$'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter {script}'
2025-07-14T17:02:44.740557Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer {script}'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'traiter {script}'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^traiter\ (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter traitement.sh'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer traitement.sh'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'traiter traitement.sh'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^sh (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^sh (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer le script {script}'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ le\ script\ (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'faire tourner le script {script}'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^faire\ tourner\ le\ script\ (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'démarrer le script {script}'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^démarrer\ le\ script\ (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exécuter le script SQL {script}' with handler 'run_sql_script'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exécuter\ le\ script\ SQL\ (.+)$'
2025-07-14T17:02:44.741083Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter le script SQL {script}'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ le\ script\ SQL\ (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter le script sql {script}'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ le\ script\ sql\ (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer le script sql {script}'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ le\ script\ sql\ (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^sqlplus (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^sqlplus (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exécuter la requête SQL {query}' with handler 'sql_query'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exécuter\ la\ requête\ SQL\ (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter la requête SQL {query}'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ la\ requête\ SQL\ (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter la requête {query}'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ la\ requête\ (.+)$'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer la requête SQL {query}'
2025-07-14T17:02:44.741617Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ la\ requête\ SQL\ (.+)$'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'lancer la requête {query}'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^lancer\ la\ requête\ (.+)$'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exécuter la requête {query}'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exécuter\ la\ requête\ (.+)$'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Exporter les résultats de la requête {query} vers {output}' with handler 'sql_export'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Exporter\ les\ résultats\ de\ la\ requête\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter les résultats de la requête {query} vers {output}'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ les\ résultats\ de\ la\ requête\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter les résultats {query} vers {output}'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ les\ résultats\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter {query} vers {output}'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'exporter les résultats de la requête {query} vers {output}'
2025-07-14T17:02:44.742130Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^exporter\ les\ résultats\ de\ la\ requête\ (.+)\ vers\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Comparer les résultats de la requête {query1} avec {query2}' with handler 'sql_compare'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Comparer\ les\ résultats\ de\ la\ requête\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer les résultats de la requête {query1} avec {query2}'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ les\ résultats\ de\ la\ requête\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer les résultats {query1} avec {query2}'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ les\ résultats\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer {query1} avec {query2}'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer les résultats de la requête {query1} avec {query2}'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ les\ résultats\ de\ la\ requête\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Comparer le fichier {file1} avec {file2}' with handler 'compare_files'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Comparer\ le\ fichier\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer le fichier {file1} avec {file2}'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ le\ fichier\ (.+)\ avec\ (.+)$'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias 'comparer le fichier {file1} et {file2}'
2025-07-14T17:02:44.742661Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing alias regex '(?i)^comparer\ le\ fichier\ (.+)\ et\ (.+)$'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking alias '^diff (.+) (.+)$'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex alias '^diff (.+) (.+)$'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Définir la variable {var} = {value}' with handler 'export_var'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Définir\ la\ variable\ (.+)\ =\ (.+)$'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Found match with pattern 'Définir la variable {var} = {value}'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: canonize_action matched handler 'export_var' for phrase 'Définir la variable {var} = {value}'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: context={'action': 'Définir la variable SQL_CONN = user/password@testdb', 'handler': 'export_var', 'category': 'variables', 'variables': {'var': 'SQL_CONN', 'value': 'user/password@testdb'}, 'requirements': {'required_variables': ['var', 'value'], 'optional_variables': [], 'scope': 'global', 'description': 'Export a variable', 'category': 'variables', 'validation_rules': {'var': {'type': 'var', 'required': True, 'pattern': '^[a-zA-Z_][a-zA-Z0-9_]*$'}, 'value': {'type': 'value', 'required': True}}}, 'patterns_matched': [{'type': 'phrase', 'pattern': 'Définir la variable {var} = {value}', 'config': {'type': 'action', 'phrase': 'Définir la variable {var} = {value}', 'aliases': ['définir la variable SQL_CONN = {value}', "définir la variable d'environnement {var} = {value}", 'exporter la variable {var} = {value}', '^export (.+)=(.+)$', 'définir la variable {var} = {value}'], 'handler': 'export_var'}}], 'scope': 'global'}
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: handler=export_var, variables={'var': 'SQL_CONN', 'value': 'user/password@testdb'}
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Trying action handler: shtest_compiler.core.action_handlers.export_var
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Calling action handler with params={'context': {'action': 'Définir la variable SQL_CONN = user/password@testdb', 'handler': 'export_var', 'category': 'variables', 'variables': {'var': 'SQL_CONN', 'value': 'user/password@testdb'}, 'requirements': {'required_variables': ['var', 'value'], 'optional_variables': [], 'scope': 'global', 'description': 'Export a variable', 'category': 'variables', 'validation_rules': {'var': {'type': 'var', 'required': True, 'pattern': '^[a-zA-Z_][a-zA-Z0-9_]*$'}, 'value': {'type': 'value', 'required': True}}}, 'patterns_matched': [{'type': 'phrase', 'pattern': 'Définir la variable {var} = {value}', 'config': {'type': 'action', 'phrase': 'Définir la variable {var} = {value}', 'aliases': ['définir la variable SQL_CONN = {value}', "définir la variable d'environnement {var} = {value}", 'exporter la variable {var} = {value}', '^export (.+)=(.+)$', 'définir la variable {var} = {value}'], 'handler': 'export_var'}}], 'scope': 'global'}, 'var': 'SQL_CONN', 'value': 'user/password@testdb'}
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Action handler returned=<shtest_compiler.core.action_handlers.export_var.ExportVarAction object at 0x0000020144C2B590>
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Generated shell command: export SQL_CONN='user/password@testdb'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_validation_expression called with: 'identifiants configurés'
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_validation_expression: Detected atomic expression, using compile_atomic
2025-07-14T17:02:44.743193Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic called with: expected='identifiants configurés', varname='result', last_file_var=None, extracted_args=None, action_context={'command': 'Définir la variable SQL_CONN = user/password@testdb'}
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic: Trying to canonize validation: 'identifiants configurés'
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic: canonize_validation('identifiants configurés') result: {'phrase': 'Identifiants configurés', 'handler': 'credentials_configured', 'scope': 'global', 'pattern_entry': {'phrase': 'Identifiants configurés', 'handler': 'credentials_configured', 'scope': 'global', 'opposite': {'phrase': 'Identifiants non configurés'}, 'aliases': ['identifiants configurés', 'Les identifiants sont configurés', '^identifiants configurés$', '^les identifiants sont configurés$']}, 'params': {}}
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] extract_context_from_action result: {'action': 'identifiants configurés', 'handler': 'credentials_configured', 'category': 'validation', 'variables': {}, 'requirements': {'required_variables': [], 'optional_variables': [], 'scope': 'global', 'description': 'Check if credentials are configured', 'category': 'validation', 'validation_rules': {}}, 'patterns_matched': [], 'scope': 'global'}
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Final params for handler: {}
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Handler registry returned: ValidationCheck(expected='la variable SQL_CONN est configurée', actual_cmd='test -n "${SQL_CONN}"', handler='credentials_configured', scope='last_action', params={'var': 'SQL_CONN', 'opposite': "la variable SQL_CONN n'est pas configurée"})
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command called with: 'Créer le dossier /tmp/knightbatch_test avec les droits 0755'
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Loaded 21 action patterns
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Processing action 'Créer le dossier /tmp/knightbatch_test avec les droits 0755' (normalized: 'créer le dossier /tmp/knightbatch_test avec les droits 0755')
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Checking pattern 'Créer le dossier {path}' with handler 'create_dir'
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Testing regex pattern '(?i)^Créer\ le\ dossier\ (.+)$'
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] canonize_action: Found match with pattern 'Créer le dossier {path}'
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: canonize_action matched handler 'create_dir' for phrase 'Créer le dossier {path}'
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: context={'action': 'Créer le dossier /tmp/knightbatch_test avec les droits 0755', 'handler': 'create_dir', 'category': 'directory_operations', 'variables': {'path': '/tmp/knightbatch_test avec les droits 0755'}, 'requirements': {'required_variables': ['path'], 'optional_variables': ['mode'], 'scope': 'global', 'description': 'Create a new directory', 'category': 'directory_operations', 'validation_rules': {'path': {'type': 'path', 'required': True}, 'mode': {'type': 'mode', 'required': False, 'pattern': '^[0-7]{3,4}$'}}}, 'patterns_matched': [{'type': 'phrase', 'pattern': 'Créer le dossier {path}', 'config': {'type': 'action', 'phrase': 'Créer le dossier {path}', 'aliases': ['créer un dossier {path}', 'faire un dossier {path}', 'nouveau dossier {path}', 'cr[ée]er le dossier (.+)', '^mkdir (.+)$'], 'handler': 'create_dir'}}], 'scope': 'global'}
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: handler=create_dir, variables={'path': '/tmp/knightbatch_test avec les droits 0755'}
2025-07-14T17:02:44.743729Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Trying action handler: shtest_compiler.core.action_handlers.create_dir
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Calling action handler with params={'context': {'action': 'Créer le dossier /tmp/knightbatch_test avec les droits 0755', 'handler': 'create_dir', 'category': 'directory_operations', 'variables': {'path': '/tmp/knightbatch_test avec les droits 0755'}, 'requirements': {'required_variables': ['path'], 'optional_variables': ['mode'], 'scope': 'global', 'description': 'Create a new directory', 'category': 'directory_operations', 'validation_rules': {'path': {'type': 'path', 'required': True}, 'mode': {'type': 'mode', 'required': False, 'pattern': '^[0-7]{3,4}$'}}}, 'patterns_matched': [{'type': 'phrase', 'pattern': 'Créer le dossier {path}', 'config': {'type': 'action', 'phrase': 'Créer le dossier {path}', 'aliases': ['créer un dossier {path}', 'faire un dossier {path}', 'nouveau dossier {path}', 'cr[ée]er le dossier (.+)', '^mkdir (.+)$'], 'handler': 'create_dir'}}], 'scope': 'global'}, 'path': '/tmp/knightbatch_test avec les droits 0755'}
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Action handler returned=<shtest_compiler.core.action_handlers.create_dir.CreateDirAction object at 0x0000020144C28E90>
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] get_action_shell_command: Generated shell command: mkdir -p '/tmp/knightbatch_test avec les droits 0755'
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_validation_expression called with: 'le dossier est créé'
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_validation_expression: Detected atomic expression, using compile_atomic
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic called with: expected='le dossier est créé', varname='result', last_file_var=None, extracted_args=None, action_context={'command': 'Créer le dossier /tmp/knightbatch_test avec les droits 0755'}
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic: Trying to canonize validation: 'le dossier est créé'
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] compile_atomic: canonize_validation('le dossier est créé') result: {'phrase': 'le dossier est créé', 'handler': 'dir_exists', 'scope': 'last_action', 'pattern_entry': {'phrase': 'Le dossier est prêt', 'handler': 'dir_exists', 'scope': 'last_action', 'opposite': {'phrase': 'Le dossier est absent'}, 'aliases': ['le dossier est prêt', 'dossier prêt', 'le dossier est cree', 'dossier cree', 'le dossier est créé', 'dossier créé', 'le dossier est cree', 'dossier cree', 'le dossier est créé', 'dossier créé', 'le dossier est present', 'dossier present', 'le dossier est vide', 'dossier vide', '^le dossier est prêt$', '^dossier prêt$', '^le dossier est cree$', '^dossier cree$', '^le dossier est créé$', '^dossier créé$', '^le dossier est present$', '^dossier present$', '^le dossier est vide$', '^dossier vide$']}, 'params': {}}
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] extract_context_from_action result: {'action': 'le dossier est créé', 'handler': 'dir_exists', 'category': 'directory_operations', 'variables': {}, 'requirements': {'required_variables': ['dir'], 'optional_variables': [], 'scope': 'global', 'description': 'Check if a directory exists', 'category': 'directory_operations', 'validation_rules': {'dir': {'type': 'dir', 'required': True}}}, 'patterns_matched': [], 'scope': 'global'}
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Validation context errors for 'le dossier est créé': Handler dir_exists requires 'dir' variable
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [PIPELINE_ERROR] [ERROR] ValidationParseError: Validation context errors for 'le dossier est créé': Handler dir_exists requires 'dir' variable
Traceback (most recent call last):
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\compiler\shell_generator.py", line 136, in visit
    shellframework_ast = ShtestToShellFrameworkVisitor().visit(node)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\ast\visitor.py", line 26, in visit
    return visitor_method(node)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\ast\shtest_to_shellframework_visitor.py", line 250, in visit_shtestfile
    validation_lines = self.compile_validation_expression(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\ast\shtest_to_shellframework_visitor.py", line 357, in compile_validation_expression
    return compile_atomic(
           ^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\compiler\atomic_compiler.py", line 83, in compile_atomic
    raise ValidationParseError(error_msg)
shtest_compiler.core.errors.ValidationParseError: Validation context errors for 'le dossier est créé': Handler dir_exists requires 'dir' variable

2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] [ERROR] ValidationParseError: Validation context errors for 'le dossier est créé': Handler dir_exists requires 'dir' variable
2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Traceback (most recent call last):
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\compiler\shell_generator.py", line 136, in visit
    shellframework_ast = ShtestToShellFrameworkVisitor().visit(node)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\ast\visitor.py", line 26, in visit
    return visitor_method(node)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\ast\shtest_to_shellframework_visitor.py", line 250, in visit_shtestfile
    validation_lines = self.compile_validation_expression(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\ast\shtest_to_shellframework_visitor.py", line 357, in compile_validation_expression
    return compile_atomic(
           ^^^^^^^^^^^^^^^
  File "C:\Users\Sventer\OneDrive\Documents\batch testing\src\shtest_compiler\compiler\atomic_compiler.py", line 83, in compile_atomic
    raise ValidationParseError(error_msg)
shtest_compiler.core.errors.ValidationParseError: Validation context errors for 'le dossier est créé': Handler dir_exists requires 'dir' variable

2025-07-14T17:02:44.744264Z DESKTOP-19SQ3SL shtest_compiler[7716]: [DEBUG] Compiled C:\Users\Sventer\OneDrive\Documents\batch testing\vscode\example.shtest -> C:\Users\Sventer\OneDrive\Documents\batch testing\vscode\example.sh
