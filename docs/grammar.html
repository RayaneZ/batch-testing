<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">
<link href="assets/images/favicon.png" rel="icon" />
<title>Grammaire | Batch Testing</title>
<meta name="description" content="Description de la syntaxe Action/Résultat pour Batch Testing">
<meta name="author" content="Batch Testing">
<!-- Stylesheet -->
<link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="assets/vendor/font-awesome/css/all.min.css" />
<link rel="stylesheet" type="text/css" href="assets/vendor/magnific-popup/magnific-popup.min.css" />
<link rel="stylesheet" type="text/css" href="assets/vendor/highlight.js/styles/github.css" />
<link rel="stylesheet" type="text/css" href="assets/css/stylesheet.css" />
</head>
<body data-spy="scroll" data-target=".idocs-navigation" data-offset="125">
<!-- Preloader -->
<div class="preloader">
  <div class="lds-ellipsis">
    <div></div><div></div><div></div><div></div>
  </div>
</div>
<!-- Preloader End -->
<!-- Document Wrapper -->
<div id="main-wrapper">
  <!-- Header -->
  <header id="header" class="sticky-top">
    <nav class="primary-menu navbar navbar-expand-lg navbar-dropdown-dark">
      <div class="container-fluid">
        <button id="sidebarCollapse" class="navbar-toggler d-block d-md-none" type="button"><span></span><span class="w-75"></span><span class="w-50"></span></button>
        <a class="logo ml-md-3" href="index.html" title="iDocs Template">
          <img src="assets/images/logo.png" alt="iDocs Template"/>
        </a>
        <span class="text-2 ml-2">v1.0</span>
        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#header-nav"><span></span><span></span><span></span></button>
        <div id="header-nav" class="collapse navbar-collapse justify-content-end">
          <ul class="navbar-nav">
            <li><a href="index.html">Accueil</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>
  <!-- Header End -->
  <!-- Content -->
  <div id="content" role="main">
    <!-- Sidebar Navigation -->
    <div class="idocs-navigation bg-light">
      <ul class="nav flex-column">
        <li class="nav-item"><a class="nav-link active" href="#format">Format Action/Résultat</a></li>
        <li class="nav-item"><a class="nav-link" href="#aliases">Alias supportés</a></li>
        <li class="nav-item"><a class="nav-link" href="#sql">Manipulations SQL</a></li>
        <li class="nav-item"><a class="nav-link" href="#files">Manipulation de fichiers</a></li>
        <li class="nav-item"><a class="nav-link" href="#batch">Exécution de batchs</a></li>
        </ul>
      </div>
    <!-- Docs Content -->
    <div class="idocs-content">
      <div class="container">
        <section id="format">
          <h1>Format Action/Résultat</h1>
          <p>Chaque scénario est écrit sous la forme <strong>Action&nbsp;:&nbsp;... Résultat&nbsp;:&nbsp;...</strong> où le résultat décrit la validation attendue.</p>
          <h2>Exemple</h2>
          <pre><code>Action: lancer le script test.sh
Résultat: le script retourne un code 0
</code></pre>
          <p>Ce résultat est transformé en validation&nbsp;: <code>retour 0</code>.</p>
            <p>Un scénario peut comporter plusieurs couples Action/Résultat exécutés
            successivement.</p>
            <p>Plusieurs validations peuvent être combinées&nbsp;: <code>retour 0 et logs accessibles</code>.</p>
        </section>
        <hr class="divider">
        <section id="aliases">
          <h2>Alias supportés</h2>
          <p>Les phrases suivantes sont automatiquement converties&nbsp;:</p>
          <ul>
            <li><code>le script retourne un code N</code> → <code>retour N</code></li>
            <li><code>le script affiche un code N</code> → <code>stdout contient N</code></li>
            <li><code>la sortie standard est TEXTE</code> → <code>stdout=TEXTE</code></li>
            <li><code>la sortie standard contient TEXTE</code> → <code>stdout contient TEXTE</code></li>
            <li><code>la sortie d'erreur est TEXTE</code> → <code>stderr=TEXTE</code></li>
            <li><code>la sortie d'erreur contient TEXTE</code> → <code>stderr contient TEXTE</code></li>
            <li><code>le fichier NOM existe</code> → <code>le fichier NOM existe</code></li>
            <li><code>le fichier est présent</code> → <code>Le fichier est présent</code></li>
            <li><code>le fichier est copié</code> → <code>le fichier est copié</code></li>
            <li><code>le dossier est copié</code> → <code>le dossier est copié</code></li>
            <li><code>le fichier A est identique B</code> → <code>fichier_identique A B</code></li>
            <li><code>le fichier est initialisé</code> → <code>Le fichier est présent</code></li>
            <li><code>le fichier est créé</code> → <code>Le fichier est présent</code></li>
            <li><code>fichier créé</code> → <code>fichier cree</code></li>
            <li><code>la base est prête</code> → <code>base prête</code></li>
            <li><code>le contenu est affiché</code> → <code>contenu affiché</code></li>
            <li><code>le script est affiché</code> → <code>contenu affiché</code></li>
            <li><code>le dossier est créé</code> → <code>dossier créé</code></li>
            <li><code>le dossier est prêt</code> → <code>dossier créé</code></li>
            <li><code>la date est modifiée</code> → <code>date modifiée</code></li>
            <li><code>date modifiée</code> → <code>date modifiée</code></li>
            <li><code>le contenu est correct</code> → <code>contenu correct</code></li>
            <li><code>le contenu est lisible</code> → <code>contenu affiché</code></li>
            <li><code>aucun message d'erreur</code> → <code>stderr=</code></li>
            <li><code>les logs sont accessibles</code> → <code>logs accessibles</code></li>
          </ul>
          <p>Combinez plusieurs validations avec «&nbsp;et&nbsp;» ou «&nbsp;ou&nbsp;». Les expressions non reconnues sont laissées telles quelles.</p>
        </section>

        <hr class="divider">
        <section id="sql">
          <h2>Manipulations SQL</h2>
          <p>Vous pouvez préparer ou vérifier la base en exécutant des scripts SQL.</p>
          <pre><code>Action: Exécuter le script SQL init_bdd.sql ; Résultat: base prête.</code></pre>
          <p>Les scripts listés sont appelés avec la variable <code>SQL_CONN</code> configurée dans votre environnement.</p>
            <p>Chaque fichier SQL est exécuté une seule fois. Utilisez ensuite des validations comme <code>base prête</code> pour confirmer que l'initialisation a réussi.</p>
        </section>

        <hr class="divider">
        <section id="files">
          <h2>Manipulation de fichiers</h2>
          <p>Créez, copiez ou mettez à jour des fichiers en décrivant l'action correspondante.</p>
          <pre><code>Action: créer le fichier = /tmp/test.txt avec les droits = 0600 ; Résultat: Le fichier est présent.
Action: copier le fichier /tmp/a.txt vers /tmp/b.txt ; Résultat: le fichier est copié.</code></pre>
            <p>Vous pouvez également vérifier qu'un fichier est identique à une référence avec <code>fichier_identique A B</code> ou purger un dossier avant les tests.</p>
        </section>

        <hr class="divider">
        <section id="batch">
          <h2>Exécution de batchs</h2>
          <p>Pour lancer un traitement, indiquez simplement le script à exécuter.</p>
          <pre><code>Action: exécuter traitement.sh ; Résultat: retour 0.</code></pre>
            <p>Le moteur exécute le fichier avec les arguments déclarés plus haut et vérifie ensuite les validations indiquées.</p>
        </section>
      </div>
    </div>
  </div>
  <!-- Content end -->
  <!-- Footer -->
  <footer id="footer" class="bg-dark footer-text-light ml-0 py-5">
    <div class="container text-center">
      <p class="mb-0">&copy; 2020 <a href="http://www.harnishdesign.net/idocs-one-page-documentation-html-template/">iDocs</a>. Tous droits réservés.</p>
      <p class="text-2 mb-0">Design &amp; Develop by <a class="btn-link" target="_blank" href="http://www.harnishdesign.net/">HarnishDesign</a>.</p>
    </div>
  </footer>
  <!-- Footer end -->
</div>
<!-- Document Wrapper end -->
<!-- Back To Top -->
<a id="back-to-top" data-toggle="tooltip" title="Back to Top" href="javascript:void(0)"><i class="fa fa-chevron-up"></i></a>
<!-- JavaScript -->
<script src="assets/vendor/jquery/jquery.min.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/highlight.js/highlight.min.js"></script>
<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
<script src="assets/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>
<script src="assets/js/theme.js"></script>
</body>
</html>
