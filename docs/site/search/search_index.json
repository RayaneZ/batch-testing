{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Sc\u00e9narios de Test","text":"<p>Bienvenue dans la documentation des sc\u00e9narios de test automatis\u00e9s. Ce site documente l'ensemble des r\u00e8gles, formats et proc\u00e9dures utilis\u00e9s pour d\u00e9crire, ex\u00e9cuter et valider des sc\u00e9narios techniques via des instructions en langage naturel.</p>"},{"location":"#objectifs","title":"Objectifs","text":"<ul> <li>Faciliter l'\u00e9criture de sc\u00e9narios lisibles par les humains et interpr\u00e9tables par des outils automatis\u00e9s.</li> <li>D\u00e9finir une grammaire structur\u00e9e \u00e0 base de regex pour reconna\u00eetre les actions, fichiers, variables et validations attendues.</li> <li>Fournir une r\u00e9f\u00e9rence claire pour tous les contributeurs (dev, QA, ops).</li> </ul>"},{"location":"#structure-de-la-documentation","title":"Structure de la documentation","text":"<ul> <li>CLI : Utilisation de l\u2019interface en ligne de commande.</li> <li>Configuration : Param\u00e9trage du syst\u00e8me de test.</li> <li>Format SHTEST : Syntaxe standardis\u00e9e des sc\u00e9narios.</li> <li>Style Guide : Recommandations r\u00e9dactionnelles pour les sc\u00e9narios.</li> <li>Regex : D\u00e9tail des expressions r\u00e9guli\u00e8res utilis\u00e9es pour le parsing.</li> </ul> <p>Pour commencer, explorez la section sur le format SHTEST ou consultez les regex de parsing.</p>"},{"location":"cli/","title":"Outils en ligne de commande","text":"<p>Cette page d\u00e9taille les diff\u00e9rents scripts disponibles dans le projet.</p>"},{"location":"cli/#generate_testspy","title":"<code>generate_tests.py</code>","text":"<p>Convertit les fichiers <code>.shtest</code> en scripts shell ex\u00e9cutables stock\u00e9s dans le dossier configur\u00e9.</p> <pre><code>python src/generate_tests.py --input-dir src/tests --output output\n</code></pre> <p>Les chemins peuvent \u00eatre personnalis\u00e9s via <code>--input-dir</code> et <code>--output</code> ou par le fichier <code>config.ini</code>.</p>"},{"location":"cli/#verify_syntaxpy","title":"<code>verify_syntax.py</code>","text":"<p>V\u00e9rifie la validit\u00e9 des fichiers <code>.shtest</code> et affiche les erreurs rencontr\u00e9es.</p> <pre><code>python src/verify_syntax.py src/tests\n</code></pre> <p>Si aucune erreur n'est d\u00e9tect\u00e9e, la commande affiche <code>Syntax OK</code> et renvoie le code de sortie <code>0</code>.</p>"},{"location":"cli/#export_to_excelpy","title":"<code>export_to_excel.py</code>","text":"<p>G\u00e9n\u00e8re un fichier Excel r\u00e9capitulatif de vos sc\u00e9narios de test.</p> <pre><code>python src/export_to_excel.py --input-dir src/tests --output tests.xlsx\n</code></pre>"},{"location":"cli/#run_allpy","title":"<code>run_all.py</code>","text":"<p>Encha\u00eene la v\u00e9rification, la g\u00e9n\u00e9ration des scripts et l'export Excel en une seule commande\u00a0:</p> <pre><code>python src/run_all.py --input src/tests --output output --excel tests.xlsx\n</code></pre> <p>Chaque \u00e9tape peut \u00eatre d\u00e9sactiv\u00e9e via <code>--no-shell</code> ou <code>--no-excel</code>.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>Le fichier <code>config.ini</code> situ\u00e9 \u00e0 la racine du projet permet de d\u00e9finir les chemins par d\u00e9faut utilis\u00e9s par les scripts.</p> <pre><code>[application]\ninput_dir = demo_env\noutput_dir = demo_env\n</code></pre> <p>Vous pouvez modifier ces valeurs pour adapter l'outil \u00e0 votre environnement. Chaque script dispose \u00e9galement d'options en ligne de commande pour surcharger ces param\u00e8tres.</p>"},{"location":"regex_documentation/","title":"Guide des r\u00e8gles de reconnaissance (Regex)","text":"<p>Ce document d\u00e9crit les expressions r\u00e9guli\u00e8res utilis\u00e9es pour interpr\u00e9ter automatiquement les instructions d\u2019un sc\u00e9nario <code>.shtest</code>.</p> <p>Chaque ligne de sc\u00e9nario peut d\u00e9clencher une action, une d\u00e9finition de variable, ou une validation de r\u00e9sultat. Les regex permettent de les reconna\u00eetre.</p>"},{"location":"regex_documentation/#exemples-simples","title":"\ud83d\udca1 Exemples simples","text":"<pre><code>Action: ex\u00e9cuter le script setup.sql ; R\u00e9sultat: retour 0\nAction: cr\u00e9er le fichier /tmp/test.log ; R\u00e9sultat: le fichier est pr\u00e9sent\nAction: d\u00e9finir la variable ENV = prod\n</code></pre>"},{"location":"regex_documentation/#actions-reconnues","title":"\ud83d\udee0\ufe0f Actions reconnues","text":"<p>Ces expressions d\u00e9clenchent des actions de script ou de pr\u00e9paration.</p>"},{"location":"regex_documentation/#execution-de-scripts","title":"Ex\u00e9cution de scripts","text":"<pre><code>ex\u00e9cuter mon_script.sql\nlancer clean.sh\ntraiter le script init.sh\n</code></pre> <p>Reconna\u00eet : - <code>.sql</code> \u2192 ex\u00e9cution SQL - <code>.sh</code> \u2192 script shell - toute action sans extension \u2192 g\u00e9n\u00e9rique</p>"},{"location":"regex_documentation/#initialisation","title":"Initialisation","text":"<pre><code>initialiser les param\u00e8tres\nconfigurer l\u2019environnement\n</code></pre>"},{"location":"regex_documentation/#variables-et-arguments","title":"\ud83e\uddfe Variables et arguments","text":"<pre><code>d\u00e9finir la variable ENV = prod\nd\u00e9finir la variable port = 5432\n</code></pre> <p>Les variables sont extraites et inject\u00e9es dans les scripts g\u00e9n\u00e9r\u00e9s.</p>"},{"location":"regex_documentation/#fichiers-et-dossiers","title":"\ud83d\udcc1 Fichiers et dossiers","text":""},{"location":"regex_documentation/#creation","title":"Cr\u00e9ation","text":"<pre><code>cr\u00e9er le fichier = /etc/app.conf\ncr\u00e9er le dossier = /var/data\n</code></pre> <p>Avec droits :</p> <pre><code>cr\u00e9er dossier = /tmp/logs avec les droits = 0755\n</code></pre>"},{"location":"regex_documentation/#touch-date","title":"Touch / Date","text":"<pre><code>mettre \u00e0 jour la date du fichier /tmp/test.txt 20250628143000\ntouch /tmp/file.log -t 20250628120000\n</code></pre>"},{"location":"regex_documentation/#lecture","title":"Lecture","text":"<pre><code>lire le fichier = /etc/hosts\n</code></pre>"},{"location":"regex_documentation/#copie-deplacement","title":"Copie / D\u00e9placement","text":"<pre><code>copier le fichier /tmp/a vers /var/b\nd\u00e9placer le dossier /data vers /backup\n</code></pre>"},{"location":"regex_documentation/#resultats-attendus","title":"\u2705 R\u00e9sultats attendus","text":"<p>Ces expressions servent \u00e0 valider l\u2019\u00e9tat apr\u00e8s une action.</p> <pre><code>le script retourne un code 0\nle script affiche un code \"1\"\nla sortie standard est success\nla sortie d\u2019erreur contient erreur fatale\n</code></pre> <p>Alias pris en charge : - <code>retour 0</code> = le script a bien \u00e9t\u00e9 ex\u00e9cut\u00e9 - <code>stdout contient \"...\"</code>, <code>stderr=...</code></p>"},{"location":"regex_documentation/#autres-validations","title":"Autres validations","text":"<pre><code>le fichier /tmp/x existe\nle dossier est pr\u00eat\nle fichier est initialis\u00e9\nles identifiants sont configur\u00e9s\n</code></pre>"},{"location":"regex_documentation/#compatibilites-action-resultat","title":"\ud83d\udd17 Compatibilit\u00e9s Action \u2194 R\u00e9sultat","text":""},{"location":"regex_documentation/#exemples","title":"Exemples","text":"<pre><code>Action: ex\u00e9cuter init.sql ; R\u00e9sultat: retour 0\nAction: cr\u00e9er le fichier /etc/app.conf ; R\u00e9sultat: le fichier est pr\u00e9sent\nAction: d\u00e9finir la variable mode = debug ; R\u00e9sultat: identifiants configur\u00e9s\n</code></pre> <p>Chaque action a des r\u00e9sultats compatibles automatiquement reconnus.</p> <p>Pour plus de d\u00e9tails, consultez les fichiers de configuration du moteur de parsing.</p>"},{"location":"shtest_format/","title":"Construire des fichiers <code>.shtest</code>","text":"<p>Ce document d\u00e9crit la syntaxe utilis\u00e9e pour \u00e9crire les sc\u00e9narios au format <code>.shtest</code>. Chaque ligne suit la forme Action : ... ; R\u00e9sultat : .... Les validations sont ensuite compil\u00e9es pour g\u00e9n\u00e9rer les scripts shell correspondants.</p>"},{"location":"shtest_format/#exemple-de-base","title":"Exemple de base","text":"<pre><code>Action: lancer le script test.sh ; Resultat: retour 0\n</code></pre> <p>Ce couple d'Action/R\u00e9sultat d\u00e9clenche l'ex\u00e9cution de <code>test.sh</code> puis v\u00e9rifie que le script se termine avec un code de retour <code>0</code>.</p>"},{"location":"shtest_format/#alias-supportes","title":"Alias support\u00e9s","text":"<p>Certaines tournures sont automatiquement converties en validations connues\u00a0: - <code>le script retourne un code N</code> \u2192 <code>retour N</code> - <code>la sortie standard contient TEXTE</code> \u2192 <code>stdout contient TEXTE</code> - <code>la sortie d'erreur est TEXTE</code> \u2192 <code>stderr=TEXTE</code> - <code>les identifiants sont configur\u00e9s</code> \u2192 <code>identifiants configur\u00e9s</code> - <code>le dossier est cr\u00e9\u00e9</code> \u2192 <code>dossier cr\u00e9\u00e9</code></p> <p>Combinez plusieurs validations avec <code>et</code> ou <code>ou</code>. Les expressions non reconnues sont conserv\u00e9es telles quelles.</p>"},{"location":"shtest_format/#manipulations-sql","title":"Manipulations SQL","text":"<p>Vous pouvez pr\u00e9parer ou v\u00e9rifier une base de donn\u00e9es en ex\u00e9cutant un script SQL\u00a0:</p> <pre><code>Action: Ex\u00e9cuter le script SQL init_bdd.sql ; R\u00e9sultat: base pr\u00eate.\n</code></pre> <p>Les scripts sont appel\u00e9s en utilisant la variable <code>SQL_CONN</code> de votre environnement. D\u00e9finissez-la dans le sc\u00e9nario si n\u00e9cessaire\u00a0:</p> <pre><code>Action: D\u00e9finir la variable SQL_CONN = user/password@db ; R\u00e9sultat: identifiants configur\u00e9s.\n</code></pre>"},{"location":"shtest_format/#manipulation-de-fichiers","title":"Manipulation de fichiers","text":"<p>Cr\u00e9ez, copiez ou mettez \u00e0 jour des fichiers en d\u00e9crivant simplement l'op\u00e9ration\u00a0:</p> <pre><code>Action: cr\u00e9er le fichier /tmp/test.txt avec les droits 0600 ; R\u00e9sultat: Le fichier est pr\u00e9sent.\nAction: copier le fichier /tmp/a.txt vers /tmp/b.txt ; R\u00e9sultat: le fichier est copi\u00e9.\n</code></pre> <p>Vous pouvez \u00e9galement v\u00e9rifier qu'un fichier est identique \u00e0 une r\u00e9f\u00e9rence avec <code>fichier_identique A B</code> ou purger un dossier avant les tests.</p>"},{"location":"shtest_format/#execution-de-batchs","title":"Ex\u00e9cution de batchs","text":"<p>Pour lancer un traitement, indiquez le script \u00e0 ex\u00e9cuter\u00a0:</p> <pre><code>Action: ex\u00e9cuter traitement.sh ; R\u00e9sultat: retour 0.\n</code></pre> <p>Le moteur ex\u00e9cute le fichier avec les arguments d\u00e9clar\u00e9s plus haut puis applique les validations indiqu\u00e9es.</p>"},{"location":"style-guide/","title":"\ud83c\udfa8 Guide de style \u2013 Composants disponibles","text":"<p>Cette page montre comment utiliser les \u00e9l\u00e9ments de mise en forme et d\u2019interaction disponibles dans votre documentation MkDocs.</p>"},{"location":"style-guide/#alertes","title":"\u2705 Alertes","text":"<p>!!! success \"Test pass\u00e9\"     Tous les fichiers ont \u00e9t\u00e9 g\u00e9n\u00e9r\u00e9s avec succ\u00e8s.</p> <p>!!! warning \"Attention\"     Une valeur inattendue a \u00e9t\u00e9 d\u00e9tect\u00e9e.</p> <p>!!! failure \"\u00c9chec\"     Le fichier <code>output.csv</code> est manquant.</p>"},{"location":"style-guide/#code-avec-surlignage-monokai","title":"\ud83d\udcac Code avec surlignage (monokai)","text":"<pre><code>#!/bin/bash\necho \"Traitement en cours...\"\n./batch_runner.sh input.csv &gt; result.log\n</code></pre> <pre><code>def test_execution():\n    assert run_job(\"input.csv\") == \"SUCCESS\"\n</code></pre>"},{"location":"style-guide/#details-depliables","title":"\ud83d\udcc2 D\u00e9tails d\u00e9pliables","text":"Voir le contenu du log <pre><code>[INFO] Start job\n[OK] Input loaded\n[WARN] Delay detected\n</code></pre>"},{"location":"style-guide/#apercu-de-documents-en-popup-pdf-html","title":"\ud83d\udcce Aper\u00e7u de documents en popup (PDF, HTML...)","text":"<p>\ud83d\udcce Voir le rapport PDF</p>"},{"location":"style-guide/#tableau-de-statut","title":"\ud83e\uddea Tableau de statut","text":"Sc\u00e9nario R\u00e9sultat Dur\u00e9e bdd_example \u2705 OK 5s demo_long_test \u274c \u00c9chec 12s"},{"location":"style-guide/#bouton-retour-en-haut","title":"\ud83c\udfaf Bouton retour en haut","text":"<p>Cliquez sur le coin inf\u00e9rieur droit pour revenir en haut de page.</p>"}]}