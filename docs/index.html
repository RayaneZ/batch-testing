<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Batch Testing Docs</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
<style>body{padding-top:4rem}pre{background:#f8f9fa;padding:.75rem}</style>
</head>
<body data-spy="scroll" data-target="#toc" data-offset="70">
<nav id="toc" class="navbar navbar-light bg-light fixed-top navbar-expand-sm">
  <a class="navbar-brand" href="#">Batch Testing</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbars" aria-controls="navbars" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbars">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item"><a class="nav-link" href="#start">Introduction</a></li>
      <li class="nav-item"><a class="nav-link" href="#syntax">Syntaxe</a></li>
      <li class="nav-item"><a class="nav-link" href="#commands">Commandes</a></li>
      <li class="nav-item"><a class="nav-link" href="#validation">Validations</a></li>
      <li class="nav-item"><a class="nav-link" href="#example">Exemple</a></li>
      <li class="nav-item"><a class="nav-link" href="#python">Scripts Python</a></li>
      <li class="nav-item"><a class="nav-link" href="#generate">generate_tests.py</a></li>
      <li class="nav-item"><a class="nav-link" href="#export">export_to_excel.py</a></li>
    </ul>
  </div>
</nav>
<div class="container">
<section id="start" class="mb-5">
  <h1>Batch Testing Documentation</h1>
  <p class="lead">Page générée à partir du template <a href="https://github.com/harnishdesign/iDocs">iDocs</a>.</p>
  <p>Les scénarios utilisent des lignes comme&nbsp;:</p>
  <pre><code>Action: configurer la base ; Resultat: base prête</code></pre>
</section>
<section id="syntax" class="mb-5">
  <h2>Syntaxe Générale</h2>
  <p>Chaque ligne suit le format <code>Action:&nbsp;...&nbsp;; Resultat:&nbsp;...</code>. Les ponctuations finales sont ignorées.</p>
  <p>Les validations peuvent combiner plusieurs tests&nbsp;:</p>
  <pre><code>Resultat: retour 0 et (stdout contient OK ou stderr contient WARNING)</code></pre>
</section>
<section id="commands" class="mb-5">
  <h2>Commandes d'action</h2>
  <table class="table table-sm table-bordered">
    <tr><th>Syntaxe</th><th>Alias</th><th>Description</th></tr>
    <tr><td><code>créer</code></td><td><code>configurer</code></td><td>Initialise l'environnement</td></tr>
    <tr><td><code>exécuter</code></td><td><code>lancer</code>, <code>traiter</code></td><td>Lance un traitement</td></tr>
    <tr><td><code>Step: NOM</code></td><td><code>Étape</code></td><td>Démarre une étape</td></tr>
    <tr><td><code>exécuter le script SQL fichier.sql</code></td><td>-</td><td>Exécute un script SQL</td></tr>
  </table>
  <h3 class="mt-4">Manipulation de fichiers</h3>
  <table class="table table-sm table-bordered">
    <tr><th>Syntaxe</th><th>Description</th></tr>
    <tr><td><code>copier le fichier SRC vers DEST</code></td><td>Copie un fichier</td></tr>
    <tr><td><code>purger le dossier CHEMIN</code></td><td>Nettoie un dossier</td></tr>
    <tr><td><code>afficher le contenu du fichier=CHEMIN</code></td><td>Affiche un fichier</td></tr>
  </table>
</section>
<section id="validation" class="mb-5">
  <h2>Résultats et validations</h2>
  <table class="table table-sm table-bordered">
    <tr><th>Syntaxe</th><th>Description</th></tr>
    <tr><td><code>retour N</code></td><td>Vérifie le code de retour</td></tr>
    <tr><td><code>stdout contient MOTIF</code></td><td>Recherche dans la sortie standard</td></tr>
    <tr><td><code>le fichier /chemin existe</code></td><td>Vérifie la présence d'un fichier</td></tr>
  </table>
</section>
<section id="example" class="mb-5">
  <h2>Création de fichiers de test</h2>
  <pre><code>Action: configurer le contexte ; Resultat: OK
Action: exécuter mon_batch.sh ; Resultat: retour 0</code></pre>
  <p>Générez les scripts&nbsp;:</p>
  <pre><code>python src/generate_tests.py</code></pre>
</section>
<section id="python" class="mb-5">
  <h2>Interaction avec les scripts Python</h2>
  <p>Les fichiers <code>.shtest</code> sont analysés par <code>parser.py</code> puis
  convertis en scripts shell avec <code>generate_tests.py</code>. Les validations
  sont compilées par <code>validation_compiler.py</code> et un export Excel peut
  être produit via <code>export_to_excel.py</code>.</p>
</section>
<section id="generate" class="mb-5">
  <h3>generate_tests.py</h3>
  <p>Convertit les scénarios en scripts dans <code>output/</code>.</p>
  <pre><code>python src/generate_tests.py</code></pre>
  <p>Les chemins peuvent être personnalisés dans <code>config.ini</code>.</p>
</section>
<section id="export" class="mb-5">
  <h3>export_to_excel.py</h3>
  <p>Crée un fichier Excel récapitulatif.</p>
  <pre><code>python src/export_to_excel.py --input-dir src/tests --output tests.xlsx</code></pre>
</section>
<footer class="text-muted mb-5">Publié sous licence MIT.</footer>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>
